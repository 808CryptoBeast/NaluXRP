/* =========================================
   NaluXrp üåä ‚Äî Navbar Styles (FULL)
   ‚úÖ Center button labels (desktop + mobile)
   ‚úÖ Smallest screens: menu panel is visible + scrollable
   ‚úÖ Dropdowns readable (no white button defaults)
   ‚úÖ Mobile toggle uses your shield logo
   ========================================= */

/* ---------- Variables ---------- */
:root{
  --nav-h: 75px; /* keep synced with body padding-top */
}

/* ---------- Navbar Shell ---------- */
#navbar.navbar{
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  height: var(--nav-h);
  z-index: 9998;

  background: rgba(0,0,0,0.60);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);

  border-bottom: 1px solid rgba(255,255,255,0.10);
  transition: transform 0.25s ease, background 0.25s ease;
}

/* Hide-on-scroll support */
#navbar.navbar.hide{
  transform: translateY(-100%);
}

/* ---------- Inner Layout ---------- */
#navbar .nav-content{
  height: 100%;
  width: 100%;
  max-width: 1400px;
  margin: 0 auto;
  padding: 0 18px;

  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 14px;
}

/* ---------- Logo ---------- */
#navbar .nav-logo{
  display: flex;
  flex-direction: column;
  gap: 2px;
  cursor: pointer;
  user-select: none;
  min-width: 180px;
}

#navbar .nav-logo .logo-text{
  font-size: 1.25rem; /* bigger */
  line-height: 1.1;
  color: var(--accent-secondary);
  font-weight: 900;
  letter-spacing: 0.2px;
}

#navbar .nav-logo .logo-slogan{
  font-size: 0.86rem;
  color: var(--text-secondary);
  opacity: 0.95;
}

/* ---------- Mobile Toggle (shield image) ---------- */
#navbar .navbar-toggle{
  display: none; /* shown on mobile */
  width: 46px;
  height: 46px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,0.14);
  background: rgba(0,0,0,0.22);
  cursor: pointer;
  align-items: center;
  justify-content: center;
  padding: 0;
  -webkit-tap-highlight-color: transparent;
}

#navbar .navbar-toggle:active{
  transform: scale(0.98);
}

#navbar .navbar-toggle .toggle-logo{
  width: 30px;
  height: 30px;
  border-radius: 10px;
  object-fit: cover;
  border: 1px solid rgba(255,255,255,0.14);
  box-shadow: 0 0 0 1px rgba(0,0,0,0.35);
}

#navbar.open .navbar-toggle{
  border-color: rgba(0,212,255,0.45);
  box-shadow: 0 0 0 3px rgba(0,212,255,0.14);
}

/* ---------- Nav Links (Desktop default) ---------- */
#navbar .nav-links{
  display: flex;
  align-items: center;
  gap: 10px;
}

/* ‚úÖ Prevent ‚Äúwhite default buttons‚Äù */
#navbar button.nav-btn,
#navbar button.dropdown-toggle,
#navbar button.dropdown-item{
  appearance: none;
  -webkit-appearance: none;

  background: rgba(0,0,0,0.18);
  color: var(--text-primary);

  border: 1px solid rgba(255,255,255,0.14);
  border-radius: 12px;

  font-weight: 800;
  cursor: pointer;
  text-decoration: none;

  -webkit-tap-highlight-color: transparent;
}

/* ‚úÖ CENTER CONTENT inside buttons (icon + label group) */
#navbar .nav-btn,
#navbar .dropdown-toggle{
  display: flex;
  align-items: center;
  justify-content: center;  /* ‚úÖ centers the group */
  gap: 10px;

  padding: 10px 12px;
  font-size: 0.92rem;
  text-align: center;
}

/* Make icon occupy a consistent width so label is visually centered */
#navbar .nav-icon{
  display: inline-flex;
  width: 24px;
  justify-content: center;
  align-items: center;
  font-size: 1.05rem;
  line-height: 1;
}

/* Label keeps tight and centered */
#navbar .nav-label{
  display: inline-block;
  text-align: center;
  white-space: nowrap;
  line-height: 1.05;
}

#navbar .nav-btn:hover,
#navbar .dropdown-toggle:hover{
  background: rgba(255,255,255,0.06);
  border-color: rgba(0, 212, 255, 0.35);
}

#navbar .nav-btn.theme-btn{
  padding: 10px 12px;
  font-size: 1rem;
}

/* ---------- Dropdowns (Desktop) ---------- */
#navbar .nav-dropdown{
  position: relative;
}

#navbar .dropdown-menu{
  display: none;
  position: absolute;
  top: calc(100% + 10px);
  left: 0;
  min-width: 230px;

  padding: 10px;
  border-radius: 14px;

  background: rgba(0,0,0,0.88); /* a bit more opaque */
  border: 1px solid rgba(255,255,255,0.12);
  box-shadow: 0 12px 30px rgba(0,0,0,0.55);

  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);

  z-index: 10000;
}

#navbar .nav-dropdown:hover .dropdown-menu{
  display: flex;
  flex-direction: column;
  gap: 8px;
}

/* click-open support too */
#navbar .nav-dropdown.active .dropdown-menu{
  display: flex;
  flex-direction: column;
  gap: 8px;
}

#navbar .dropdown-item{
  width: 100%;
  text-align: center;              /* ‚úÖ center dropdown item labels too */
  padding: 10px 10px;
  font-size: 0.9rem;

  background: rgba(0,0,0,0.22);
  border: 1px solid rgba(255,255,255,0.12);
}

#navbar .dropdown-item:hover{
  background: rgba(255,255,255,0.08);
  border-color: rgba(255,255,255,0.18);
}

/* ---------- Connection Status ---------- */
#navbar .status-badge{
  display: inline-flex;
  align-items: center;
  gap: 10px;

  padding: 8px 12px;
  border-radius: 12px;

  background: rgba(0,0,0,0.22);
  border: 1px solid rgba(255,255,255,0.12);
}

#navbar .status-dot{
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: #ffb86c;
  box-shadow: 0 0 12px rgba(255,184,108,0.30);
}

#navbar .status-dot.live{
  background: #50fa7b;
  box-shadow: 0 0 14px rgba(80,250,123,0.55);
}

#navbar #connectionStatus{
  font-weight: 800;
  font-size: 0.9rem;
  color: var(--text-primary);
}

/* =========================================
   ‚úÖ Mobile Mode
   ========================================= */
@media (max-width: 992px){
  #navbar .nav-content{
    padding: 0 12px;
    gap: 10px;
  }

  /* Shrink logo area on mobile so toggle + status fit */
  #navbar .nav-logo{
    min-width: 0;
  }

  #navbar .nav-logo .logo-slogan{
    display: none;
  }

  /* Show toggle on mobile */
  #navbar .navbar-toggle{
    display: inline-flex;
  }

  /* ‚úÖ Mobile dropdown panel */
  #navbar .nav-links{
    position: fixed;
    top: var(--nav-h);
    left: 0;
    right: 0;

    display: flex;
    flex-direction: column;
    align-items: stretch;
    gap: 8px;

    padding: 12px 12px calc(16px + env(safe-area-inset-bottom, 0px));
    background: rgba(0,0,0,0.90);
    border-top: 1px solid rgba(255,255,255,0.10);

    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);

    /* closed */
    max-height: 0;
    overflow: hidden;
    opacity: 0;
    transform: translateY(-10px);
    pointer-events: none;

    z-index: 9999;

    transition:
      max-height 0.28s ease,
      opacity 0.18s ease,
      transform 0.28s ease;
  }

  /* OPEN state: give it REAL room + scrolling */
  #navbar.open .nav-links,
  #navbar .nav-links.show{
    opacity: 1;
    transform: translateY(0);
    pointer-events: auto;

    max-height: calc(100vh - var(--nav-h));
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
    overscroll-behavior: contain;
  }

  /* ‚úÖ Best mobile viewport units (prevents ‚Äúmenu not visible‚Äù on tiny screens / iOS) */
  @supports (height: 100svh){
    #navbar.open .nav-links,
    #navbar .nav-links.show{
      max-height: calc(100svh - var(--nav-h));
    }
  }

  @supports (height: 100dvh){
    #navbar.open .nav-links,
    #navbar .nav-links.show{
      max-height: calc(100dvh - var(--nav-h));
    }
  }

  /* ‚úÖ Mobile buttons: centered text (not left) */
  #navbar .nav-btn,
  #navbar .dropdown-toggle{
    width: 100%;
    justify-content: center;   /* ‚úÖ centers icon+label group */
    padding: 12px 12px;
    font-size: 0.98rem;
    background: rgba(0,0,0,0.28);
    border-color: rgba(255,255,255,0.14);
  }

  /* Mobile dropdown menus become accordion blocks */
  #navbar .dropdown-menu{
    position: static;
    display: none;
    width: 100%;
    min-width: 0;
    margin-top: 6px;

    padding: 10px;
    border-radius: 14px;

    background: rgba(0,0,0,0.36);
    border: 1px solid rgba(255,255,255,0.10);
    box-shadow: none;
  }

  /* disable hover sticky behavior */
  #navbar .nav-dropdown:hover .dropdown-menu{
    display: none;
  }

  /* click-open */
  #navbar .nav-dropdown.active .dropdown-menu{
    display: flex;
    flex-direction: column;
    gap: 8px;
  }

  #navbar .dropdown-item{
    background: rgba(0,0,0,0.28);
    font-size: 0.95rem;
    text-align: center; /* ‚úÖ centered */
  }

  /* Reduce status badge footprint on small screens */
  #navbar .status-badge{
    padding: 8px 10px;
  }
}

/* Ultra-small screens: hide status text so menu toggle + logo fit cleanly */
@media (max-width: 420px){
  #navbar #connectionStatus{
    display: none;
  }
}

/* Optional: prevent body scroll when menu open */
body.no-scroll{
  overflow: hidden;
}
